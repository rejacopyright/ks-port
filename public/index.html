<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="PT. Krakatau Samudera Solution" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <meta
      name="google-signin-client_id"
      content="724196601116-09dh3dgt03s774768c7dvhpdi2f4ovc4.apps.googleusercontent.com"
    />
    <meta name="google-signin-scope" content="https://www.googleapis.com/auth/analytics.readonly" />
    <title>PT. Krakatau Samudera Solution</title>
  </head>
  <body>
    <div id="root"></div>
    <div id="google_translate_element" style="display: none"></div>
  </body>
  <script src="https://apis.google.com/js/client:platform.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-243099276-1"></script>
  <script
    type="text/javascript"
    src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || []
    function gtag() {
      dataLayer.push(arguments)
    }
    gtag('js', new Date())

    gtag('config', 'UA-243099276-1')
  </script>
  <script type="text/javascript">
    var isAdminPage = window?.location?.pathname?.startsWith('/admin')
    var lang = localStorage.getItem('lang')
    if (lang !== 'id' && !isAdminPage) {
      function googleTranslateElementInit() {
        new google.translate.TranslateElement(
          {
            pageLanguage: 'id',
            includedLanguages: 'id,en',
            autoDisplay: false,
          },
          'google_translate_element'
        )

        setTimeout(function () {
          // Set the default language to English
          var selectElement = document.querySelector('#google_translate_element select')
          selectElement.value = lang
          selectElement.dispatchEvent(new Event('change'))
        }, 500)

        setTimeout(function () {
          var bodyElement = document.querySelector('body')
          var headerElement = document.querySelectorAll('.skiptranslate')
          var loaderElement = document.querySelector('svg[width="96px"]')
          var loaderElementParent = loaderElement.parentNode.parentNode || loaderElement.parentNode
          loaderElementParent.style.display = 'none'
          headerElement.forEach(function (el) {
            // el.style.display = 'none'
            el.style.visibility = 'hidden'
          })
          bodyElement.style.top = 0
        }, 1000)
      }
    }
  </script>
</html>
